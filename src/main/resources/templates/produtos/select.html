<!DOCTYPE html>
<html th:replace="~{fragments/layout :: layout(~{::head}, ~{::main})}">

<head th:replace="fragments/head :: head(~{}, 'Vendas &ndash; PWEBII')"></head>

<body>

    <main class="container">
        <table class="table table-striped table-hover border border">
            <thead>
            <tr>
                <th>Id</th>
                <th>Descrição</th>
                <th>Valor</th>
                <th class="text-end">Ações</th>
            </tr>
            </thead>
            <tbody class="table-group-divider">
            <tr th:each="p : ${produtos}">
                <td th:text="${p.id}"></td>
                <td th:text="${p.descricao}"></td>
                <td th:text="${#numbers.formatCurrency(p.valor)}"></td>
                <td class="text-end">
                    <form th:action="@{/vendas/add-item}" th:object="${itemVenda}" method="post">
                        <input type="hidden" th:name="produto.id" th:value="${p.id}">
                        <label for="qtd" class="form-label">
                            Quantidade
                            <br>
                            <input
                                type="number"
                                class="form-control"
                                th:field="*{qtd}"
                                id="qtd"
                                placeholder="Digite a quantidade"
                                style="width: 50px"
                            >
                        </label>
                        <input class="btn btn-primary btn-sm" type="submit" value="Adicionar ao carrinho">
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </main>

</body>
</html>
