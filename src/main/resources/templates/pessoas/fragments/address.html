<fieldset th:fragment="address">
    <legend class="mt-3">Endereço</legend>

    <div class="row g-3">
        <div class="col-md-3">
            <label for="descricao_end" class="form-label">
                Descrição do endereço
            </label>
            <input
                type="text"
                id="descricao_end"
                class="form-control"
                th:errorclass="is-invalid"
                th:field="*{enderecos[0].descricao}"
                required
                placeholder="Digite a descrição do endereço"
                aria-describedby="validationEnderecoDescricao"
            >
            <div
                th:if="${#fields.hasErrors('enderecos[0].descricao')}"
                th:errors="*{enderecos[0].descricao}"
                id="validationEnderecoDescricao"
                class="invalid-feedback"
            >
                Dado incorreto.
            </div>
        </div>

        <div class="col-md-3">
            <label for="cep" class="form-label">
                CEP
            </label>
            <input
                type="number"
                id="cep"
                class="form-control"
                th:errorclass="is-invalid"
                th:field="*{enderecos[0].cep}"
                required
                placeholder="Digite o CEP"
                aria-describedby="validationEnderecoCEP"
                maxlength="9"
            />
                <div
                    th:if="${#fields.hasErrors('enderecos[0].cep')}"
                    th:errors="*{enderecos[0].cep}"
                    id="validationEnderecoCEP"
                    class="invalid-feedback"
                >
                Dado incorreto.
            </div>
        </div>

        <div class="col-md-3">
            <label for="rua" class="form-label">
                Rua
            </label>
            <input
                type="text"
                id="rua"
                class="form-control"
                th:errorclass="is-invalid"
                th:field="*{enderecos[0].logradouro}"
                readonly
                required
                placeholder="Digite a rua"
                aria-describedby="validationEnderecoLogradouro"
            >
            <div
                th:if="${#fields.hasErrors('enderecos[0].logradouro')}"
                th:errors="*{enderecos[0].logradouro}"
                id="validationEnderecoLogradouro"
                class="invalid-feedback"
            >
                Dado incorreto.
            </div>
        </div>

        <div class="col-md-3">
            <label for="complemento" class="form-label">
                Complemento
            </label>
            <input
                type="text"
                id="complemento"
                class="form-control"
                th:field="*{enderecos[0].complemento}"
                placeholder="Digite o complemento"
            >
        </div>

        <div class="col-md-3">
            <label for="bairro" class="form-label">
                Bairro
            </label>
            <input
                type="text"
                id="bairro"
                class="form-control"
                th:errorclass="is-invalid"
                th:field="*{enderecos[0].bairro}"
                readonly
                required
                placeholder="Digite o bairro"
                aria-describedby="validationEnderecoBairro"
            >
            <div
                th:if="${#fields.hasErrors('enderecos[0].bairro')}"
                th:errors="*{enderecos[0].bairro}"
                id="validationEnderecoBairro"
                class="invalid-feedback"
            >
                Dado incorreto.
            </div>
        </div>

        <div class="col-md-3">
            <label for="cidade" class="form-label">
                Cidade
            </label>
            <input
                type="text"
                id="cidade"
                class="form-control"
                readonly
                placeholder="Digite a cidade"
            >
        </div>

        <div class="col-md-3">
            <label for="uf" class="form-label">
                Estado
            </label>
            <input
                type="text"
                id="uf"
                class="form-control"
                readonly
                placeholder="Digite o estado"
            >
        </div>
    </div>

    <input readonly th:field="*{enderecos[0].cidade.cod}" type="hidden" id="ibge" size="8" />
</fieldset>